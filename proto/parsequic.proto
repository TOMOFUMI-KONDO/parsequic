syntax = "proto3";

option go_package = "github.com/TOMOFUMI-KONDO/parsequic/proto";

package proto;

service ParseQuic{
  rpc Parse(ParseQuicRequest)returns(ParseQuicReply){}
}

message ParseQuicRequest{
  bytes data = 1;
}

enum LongHeaderPacketType {
  INITIAL = 0;
  ZERO_RTT = 1;
  HANDSHAKE = 2;
  RETRY = 3;
}

message ParseQuicReply{
  bool isLongHeader = 1;
  LongHeaderPacketType type = 2;
  uint32 version = 3;
  bytes dstConnID = 4;
  bytes srcConnID = 5;
}
